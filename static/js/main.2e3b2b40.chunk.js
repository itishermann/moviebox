(this.webpackJsonpmoviebox=this.webpackJsonpmoviebox||[]).push([[0],{254:function(e,t,a){e.exports=a(500)},463:function(e,t,a){},469:function(e,t,a){},470:function(e,t,a){},472:function(e,t,a){},490:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},498:function(e,t,a){},500:function(e,t,a){"use strict";a.r(t);a(255),a(265);var n=a(0),r=a.n(n),l=a(41),c=a.n(l),o=a(237),i=a(529),s=a(64),m=a(19),u=(a(463),function(){return r.a.createElement("div",{className:"Footer container py-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"copyright col text-center"},r.a.createElement("div",null,"Made with ",r.a.createElement("span",{className:"heart"},"\u2764")," with ",r.a.createElement("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer","aria-label":"Get more information"},"ReactJS"),", ",r.a.createElement("a",{href:"https://material-ui.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Get more information"},"Material UI")," and ",r.a.createElement("a",{href:"https://www.tvmaze.com/api",target:"_blank",rel:"noopener noreferrer","aria-label":"Get more information"},"TVAPI")),r.a.createElement("div",null,"By ",r.a.createElement("a",{href:"https://itishermann.me/",target:"_blank",rel:"noopener noreferrer","aria-label":"Get more information"},"@itishermann")))))}),E=a(73),h=a(524),d=a(59),p=(a(469),function(e){var t=e.name,a=e.image,n=e.onClick;return r.a.createElement("div",{className:"MovieCard card",onClick:n},r.a.createElement("img",{src:a,alt:t}),r.a.createElement("label",null,t))});p.defaultProps={image:"".concat("/moviebox","/defautImage.jpg")};var f=p,v={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};a(470);var g=Object(d.b)((function(e){return{movies:e.movies.movies,searchText:e.movies.searchText,status:e.status}}),null)((function(e){var t=e.movies,a=e.status,n=(e.searchText,a.moviesFetchingStatus===v.PENDING),l=Object(m.g)();return r.a.createElement("div",{className:"Home container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Search results "),n&&r.a.createElement(h.a,{className:"LinearProgress"}),r.a.createElement("div",{className:"d-flex flex-wrap"},t&&Object.entries(t).map((function(e){var t=Object(E.a)(e,2),a=t[0],n=t[1];return r.a.createElement(f,Object.assign({},n,{key:a,onClick:function(){return l.push("".concat("/moviebox","/movies/").concat(n.id))}}))})),!t&&r.a.createElement("p",null,"Let's try to search something"),0===t.length&&r.a.createElement("p",null,"Nothing found")))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-6 col-lg-4"},a.moviesFetchingStatus===v.ERROR&&a.moviesFetchingError&&r.a.createElement("div",{className:"alert alert-danger mt-3",role:"alert"},a.moviesFetchingError))))})),b=(a(472),function(){return r.a.createElement("div",{className:"Page404 container"},r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("div",{className:"col-md-8 col-lg-6"},r.a.createElement("div",{className:"material-card"},r.a.createElement("h4",{className:"card-header text-white bg-danger"},"404 - Page not found !"),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("svg",{className:"text-danger",style:{width:"70px",height:"70px"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"#000000",d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,9.5C7,8.7 7.7,8 8.5,8C9.3,8 10,8.7 10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5M14.77,17.23C14.32,16.5 13.25,16 12,16C10.75,16 9.68,16.5 9.23,17.23L7.81,15.81C8.71,14.72 10.25,14 12,14C13.75,14 15.29,14.72 16.19,15.81L14.77,17.23M15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11Z"})),r.a.createElement("div",{className:"text-center py-3 error-text text-secondary"},"Sorry, we couldn't find the page you were looking for !"),r.a.createElement(s.b,{className:"text-danger",to:"/"},"Go home"))))))}),S=a(157),y=a.n(S),w=a(240),N=a(241),O=a(242),x=a.n(O),j={search:function(e){return x.a.get(function(e){return"https://api.tvmaze.com/search/shows?q=".concat(e)}(e))}};function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var k=function(){return{type:"SEARCH_MOVIES_REQUEST"}},R=function(e,t){return{type:"SEARCH_MOVIES_SUCCESS",payload:{movies:e,searchText:t}}},I=function(e){return{type:"SEARCH_MOVIES_FAILURE",error:e}};function _(e){return function(t){t(k()),j.search(e).then((function(a){var n=a.data.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(N.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({genres:e.show.genres,network:e.show.network,language:e.show.language,type:e.show.type,id:e.show.id,name:e.show.name,rating:e.show.rating.average,date:e.show.updated,summary:e.show.summary,url:e.show.officialSite,url2:e.show.url},Boolean(e.show.image)&&{image:e.show.image.original})}));t(R(n,e))})).catch((function(e){var a=e.response?e.response.data:e;t(I(a))}))}}var M=a(243),P=a.n(M),D=(a(490),function(e){var t=e.placeholder,a=e.onSubmit,n=r.a.useState(""),l=Object(E.a)(n,2),c=l[0],o=l[1];return r.a.createElement("form",{id:"search",className:"SearchBox d-flex",onSubmit:function(e){e.preventDefault(),a(c)},"aria-label":"serachbox"},r.a.createElement("input",{name:"search",type:"text","aria-label":"serachbox",value:c,placeholder:t||"Let's search a movie (eg Girls)",onChange:function(e){o(e.target.value)}}),r.a.createElement("button",{type:"submit","aria-label":"Search"},r.a.createElement(P.a,null)))}),F=(a(492),Object(d.b)(null,(function(e){return{searchMovie:function(t){e(_(t))}}}))((function(e){var t=e.searchMovie,a=Object(m.g)(),n=function(){var e=Object(w.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.push("/");case 2:return e.next=4,t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("header",{className:"Header"},r.a.createElement("div",{className:"d-flex flex-wrap align-items-center"},r.a.createElement(s.b,{to:"/",className:"mr-3"},"Movie",r.a.createElement("span",null,"Box")),r.a.createElement("div",{className:"ml-md-auto mt-2 mt-md-0"},r.a.createElement(D,{onSubmit:n}))))}))),L=a(530),A=a(527),G=a(531),T=a(528),U=a(158),H=a.n(U),V=(a(493),a(244)),B=a(245),z=a(249),J=a(246),Q=a(250),W=a(526),q=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(z.a)(this,Object(J.a)(t).call(this,e))).parseData=function(e){var t=0;e.forEach((function(e){t++,a.characters.push(r.a.createElement("p",{key:t,className:"ml-0 ml-md-3"},r.a.createElement("a",{href:e.person.url},e.person.name)," as ",r.a.createElement("a",{href:e.character.url},e.character.name)))})),a.setState({isLoading:!1})},a.state={data:null,error:!1,isLoading:!0},a.apilink="https://api.tvmaze.com/shows/"+e.id+"/cast",a.characters=[],a}return Object(Q.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch(this.apilink).then((function(e){return e.json()})).then((function(t){e.setState({data:t}),e.parseData(e.state.data)})).catch((function(t){return e.setState({error:!0,isLoading:!1})}))}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement("div",null,r.a.createElement(W.a,null)):this.characters.length>0?r.a.createElement("div",null,this.characters):r.a.createElement("div",null,"We don't have characters list yet")}}]),t}(n.Component);var Z=Object(d.b)((function(e){return{movies:e.movies.movies}}),null)((function(e){var t=e.movies,a=e.match,n=t.find((function(e){return e.id.toString()===a.params.id.toString()})),l=n.name,c=n.rating,o=n.date,i=n.summary,s=n.url,m=n.image,u=s?s.substring(0,20)+(s.length>20?"...":""):"";return r.a.createElement("div",{className:"MovieDetail container-fluid"},r.a.createElement("div",{className:"row px-md-5"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,l),r.a.createElement("div",{className:"d-flex flex-wrap"},r.a.createElement("img",{src:m||"".concat("/moviebox","/defautImage.jpg"),alt:l,className:"cover"}),r.a.createElement("div",{className:"info mt-3 mt-md-0 flex-grow-1"},r.a.createElement("div",{className:"d-block d-md-flex flex-wrap justify-content-between"},c?r.a.createElement("label",null,"Rating: "+c):r.a.createElement("label",null,"Rating: No rating yet"),r.a.createElement("label",null,"Date: "+new Date(o).toLocaleDateString()),s&&r.a.createElement("label",null,"Official website:"," ",s&&r.a.createElement("a",{href:s,alt:"movie url",target:"_blank",rel:"noopener noreferrer"},u))),i?r.a.createElement("div",null,r.a.createElement("label",null,"Summary"),r.a.createElement("p",{className:"ml-0 ml-md-3",dangerouslySetInnerHTML:{__html:i}})):r.a.createElement("div",null,r.a.createElement("label",null,"Summary"),r.a.createElement("p",null,"We do not have a summary of ",l," yet.")),function(e){for(var t=r.a.useState(!1),a=Object(E.a)(t,2),n=a[0],l=a[1],c=function(e){return function(t,a){l(!!a&&e)}},o=[],i=0;i<e.genres.length;i++)o.push(r.a.createElement("span",{className:"ml-0 ml-md-3",key:i},e.genres[i]," "));return r.a.createElement("div",{className:"InfoPanel panel"},r.a.createElement(L.a,{expanded:"panel1"===n,onChange:c("panel1")},r.a.createElement(G.a,{expandIcon:r.a.createElement(H.a,null),"aria-controls":"panel2bh-content",id:"panel2bh-header"},r.a.createElement("label",null,"Characters")),r.a.createElement(A.a,null,r.a.createElement(q,{id:e.id}))),r.a.createElement(L.a,{expanded:"panel2"===n,onChange:c("panel2")},r.a.createElement(G.a,{expandIcon:r.a.createElement(H.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement("label",null,"More informations")),r.a.createElement(A.a,{className:"InfoData"},e.genres&&r.a.createElement("p",null,r.a.createElement("label",null," Genre: "),o),e.language&&r.a.createElement("p",null,r.a.createElement("label",null," Language: "),r.a.createElement("span",null," ",e.language)),e.network&&r.a.createElement("p",null,r.a.createElement("label",null," Network: "),r.a.createElement("span",null," ",e.network.name," "," "),r.a.createElement("span",null," ",r.a.createElement("img",{src:"https://www.countryflags.io/"+e.network.country.code+"/shiny/16.png",alt:e.network.country.code}))),e.type&&r.a.createElement("p",null,r.a.createElement("label",null," Type: "),r.a.createElement("span",null," ",e.type," "," ")),e.url2&&r.a.createElement(T.a,{href:e.url2,className:"button",target:"_blank",rel:"noopener noreferrer","aria-label":"Get more information"},"Get complete informations and schedule"))))}(n))))))})),K=function(){return r.a.createElement(s.a,{basename:"/moviebox"},r.a.createElement(F,null),r.a.createElement("main",{className:"main-container container-fluid px-0"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:g}),r.a.createElement(m.b,{path:"/movies/:id",component:Z}),r.a.createElement(m.b,{path:"/error",component:b}),r.a.createElement(m.a,{from:"*",to:"/error"}))),r.a.createElement(u,null))},X=a(160),Y=a(38),$=a(247),ee=a(159),te=a(248),ae=a.n(te),ne={movies:[],searchText:"Test"},re={moviesFetchingStatus:"",moviesFetchingError:{}},le=Object(Y.c)({status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,a={SEARCH_MOVIES_REQUEST:{moviesFetchingStatus:v.PENDING,moviesFetchingError:""},SEARCH_MOVIES_SUCCESS:{moviesFetchingStatus:v.SUCCESS,moviesFetchingError:""},SEARCH_MOVIES_FAILURE:{moviesFetchingStatus:v.ERROR,moviesFetchingError:t.error}};return e=Object.assign({},e,a[t.type])},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return"SEARCH_MOVIES_SUCCESS"===t.type&&(e=t.payload),e}}),ce={key:"root",storage:ae.a},oe=Object(ee.a)(ce,le),ie=[$.a],se=Y.d,me=Object(Y.e)(oe,{},se(Y.a.apply(void 0,Object(X.a)(ie)))),ue=me,Ee=Object(ee.b)(me);a(497),a(498),a(499);c.a.render(r.a.createElement(d.a,{store:ue},r.a.createElement(o.a,{loading:null,persistor:Ee},r.a.createElement(i.b,{injectFirst:!0},r.a.createElement(K,null)))),document.getElementById("root"))}},[[254,1,2]]]);
//# sourceMappingURL=main.2e3b2b40.chunk.js.map